<?xml version="1.0" encoding="UTF-8"?>
<Configuration status="OFF" name="innovative" packages="com.innovative">
    <Appenders>
		<!--输出到控制台 -->
		<Console name="Console" target="SYSTEM_OUT" ignoreExceptions="false">
			<PatternLayout pattern="%d{yyyy-MM-dd HH:mm:ss} %p (%C:%L)	%m%n" />
		</Console>
		<!--输出到Syslog-->
		<Syslog name="RFC 5424" format="RFC 5424" host="10.39.6.36" port="514"
		protocol="UDP" appName="MyApp" includeMDC="true"
		facility="local2" enterpriseNumber="18060" newLine="true"
		messageId="Audit" id="App">
		</Syslog>
		<!--输出到数据库-->
		<JDBC name="databaseAppender" tableName="xacx_logger_record">
			<ConnectionFactory class="com.innovative.config.ConnectionFactory" method="getDatabaseConnection" />
			<Column name="eventdate" isEventTimestamp="true" />
			<Column name="level" pattern="%level" isUnicode="false"/>
			<Column name="logger" pattern="%logger" isUnicode="false"/>
			<Column name="message" pattern="%message" isUnicode="false"/>
			<Column name="exception" pattern="%ex{full}" isUnicode="false"/>
			<Column name="userid" pattern="%X{userid}" isUnicode="false"/>
			<Column name="ip" pattern="%X{ip}" isUnicode="false"/>
			<Column name="url" pattern="%X{url}" isUnicode="false"/>
			<Column name="method" pattern="%X{method}" isUnicode="false"/>
			<Column name="class_method" pattern="%X{class_method}" isUnicode="false"/>
			<Column name="status" pattern="%X{status}" isUnicode="false"/>
		</JDBC>
	</Appenders>
	<Loggers>
    	<!-- <Logger name="com.innovative" level="DEBUG">
			<AppenderRef ref="Console"/>
    	</Logger> -->
	    <Root level="WARN">
	      	<AppenderRef ref="RFC 5424"/>
	      	<AppenderRef ref="Console"/>
			<AppenderRef ref="databaseAppender"/>
	    </Root>
 	</Loggers>
</Configuration>